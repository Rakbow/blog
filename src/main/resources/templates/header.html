<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>

    <link rel="shortcut icon" th:href="@{/img/favicon.ico}" type="image/x-icon">

    <!-- PrimeVue -->
    <link th:href="@{/css/primevue/themes/saga-blue/theme.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/css/primevue/primevue.min.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/css/primeflex/primeflex.min.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/css/primeicons/primeicons.css}" rel="stylesheet" type="text/css"/>

    <!-- other css -->
    <link th:href="@{/css/iconfont/iconfont.css}" rel="stylesheet" type="text/css"/>

    <!-- Dependencies -->
    <script th:src="@{/js/primevue/vue.min.js}"></script>
    <script th:src="@{/js/primevue/primevue.min.js}"></script>
    <script th:src="@{/js/primevue/vue-router.global.js}"></script>

    <!-- PrimeVue Components -->
    <script th:src="@{/js/primevue/components/menubar.min.js}"></script>
    <script th:src="@{/js/primevue/components/inputtext.min.js}"></script>
    <script th:src="@{/js/primevue/components/avatar.min.js}"></script>
    <link rel="stylesheet" th:href="@{/css/index.css}">
    <!-- Axios -->
    <script th:src="@{/js/axios/axios.min.js}"></script>

    <!-- other -->
    <script th:src="@{/js/basic/httpRequest.js}"></script>
    <script th:src="@{/js/basic/basicParam.js}"></script>
    <script th:src="@{/js/basic/dataHandler.js}"></script>
</head>
<body>
<div id="app">
    <p-menubar :model="navbarItems" th:fragment="site_header">
        <template #start>
            <a href="http://localhost:8080">
                <img alt="logo" src="/img/logo.png" height="30" class="mr-2">
            </a>
        </template>
        <template #end>
            <div class="grid mt-0 mb-0 pt-0 pb-0">
                <div class="col-3 mt-0 mb-0 pt-0 pb-0">
                    <p-avatar th:if="${loginUser != null}" th:image="${loginUser.headerUrl}" size="small" shape="circle"></p-avatar>
<!--                    <p-button th:if="${loginUser == null}" label=""></p-button>-->
                </div>
                <div class="col-9 mt-0 mb-0 pt-0 pb-0 p-inputgroup">
                    <p-inputtext class="form-control mr-sm-2" placeholder="Search" type="search" name="keyword" th:value="${keyword}"></p-inputtext>
                    <p-button icon="pi pi-search" class="p-button-warning btn btn-outline-light" type="submit"></p-button>
                </div>
            </div>
        </template>
    </p-menubar>
</div>
<script type="module" th:inline="javascript">
    const {createApp, onMounted, ref} = Vue;

    const App = {
        setup() {
            onMounted(() => {

            })
            return {}
        },
        components: {
            "p-inputtext": primevue.inputtext,
            "p-menubar": primevue.menubar,
            "p-button": primevue.button,
            "p-avatar": primevue.avatar
        }
    };

    const routes = [{ path: "/", component: App }];

    const router = VueRouter.createRouter({
        // history: VueRouter.createWebHashHistory(),
        history: VueRouter.createWebHistory(),
        routes
    });

    createApp(App)
        .use(router)
        .use(primevue.config.default)
        .mount("#app");
</script>
</script>
<style>
    .user-header {
        width: 50px;
        height: 50px;
    }
</style>
</body>
</html>